<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<link rel="stylesheet" title="Default Style" href="styles/default/main.css" type="text/css">
<link rel="stylesheet" href="styles/default/xultu.css" type="text/css">


<link rel="stylesheet" href="styles/default/xultu-print.css" type="text/css" media="print">


<link rel="home"   href="http://www.xulplanet.com/"            title="http://www.XulPlanet.com/">
<link rel="search" href="http://www.xulplanet.com/cgi-bin/search/search.cgi" title="Search XulPlanet">
<link rel="author" href="http://www.xulplanet.com/ndeakin" title="Neil Deakin">
 <link rel="up" href="http://www.xulplanet.com/tutorials/" title="Up"> 
 <link rel="first" href="intro.html" title="First"> 
 <link rel="last" href="end.html" title="Last"> 

 <link rel="prev" href="defskin.html"> 
 <link rel="next" href="locale.html"> 

<meta name="Description" content="Step by step tutorial of the XML User Interface Language">

<title>XulPlanet.com - Creating a Skin</title>

</head>
<body>

<div id="header">
  <a href="http://www.xulplanet.com/">
    <img id="logo" src="images/xulplanet.png" width="215" height="65" alt="XUL Planet">
  </a>

<div id="locationlinks">
  <a href="http://www.xulplanet.com/">Home</a> &gt;

  <a href="http://www.xulplanet.com/tutorials/">Tutorials</a> :


  <a href="index.html">XUL Tutorial</a> :



 10.4 - Creating a Skin 
</div>



</div>



<hr class="edgesplit">

<div id="sidebar">

<div id="search">
  <form action="/cgi-bin/search/search.cgi" method="get">
    Search:<br>
    <input id="search-box" name="Terms" type="text">
    <input type="submit" value="Go">
  </form>
</div>

<hr>

<ul class="sidebar-section-links">
  <li><a href="http://www.xulplanet.com/tutorials/xultu/allofit.zip">Single Document Version</a></li>
  <li><a href="http://www.xulplanet.com/tutorials/xultu/xultu.zip">Download the XUL Tutorial</a><br></li>
  <li><a href="http://www.xulplanet.com/references/elemref/">Element Reference</a></li>
  <li><a href="http://www.xulplanet.com/references/elemref/quickref.html">Quick Reference</a><br></li>
  <li><a href="keyref.html">Key Code Reference</a></li>
  <li><a href="templateex.html">Template Syntax Examples</a></li>
</ul>

<hr>



<OL id="sidebar-docs-index">
  <LI class="sidebar-section-title">Introduction
  <OL>
    <LI> <A HREF="intro.html">Introduction</A></LI>
    <LI> <A HREF="xulfile.html">XUL Structure</A></LI>
    <LI> <A HREF="chromeurl.html">The Chrome URL</A></LI>
    <LI> <A HREF="packaging.html">Contents.rdf Files</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Simple Elements
  <OL>
    <LI> <A HREF="window.html">Creating a Window</A></LI>
    <LI> <A HREF="buttons.html">Adding Buttons</A></LI>
    <LI> <A HREF="textimage.html">Adding Labels and Images</A></LI>
    <LI> <A HREF="inputs.html">Input Controls</A></LI>
    <LI> <A HREF="lists.html">List Controls</A></LI>
    <LI> <A HREF="progress.html">Progress Meters</A></LI>
    <LI> <A HREF="htmlelem.html">Adding HTML Elements</A></LI>
    <LI> <A HREF="springs.html">Using Spacers</A></LI>
    <LI> <A HREF="advbtns.html">More Button Features</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">The Box Model
  <OL>
    <LI> <A HREF="boxes.html">The Box Model</A></LI>
    <LI> <A HREF="boxstyle.html">Element Positioning</A></LI>
    <LI> <A HREF="boxdet.html">Box Model Details</A></LI>
    <LI> <A HREF="titledbox.html">Groupboxes</A></LI>
    <LI> <A HREF="boxfinal.html">Adding More Elements</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">More Layout Elements
  <OL>
    <LI> <A HREF="stacks.html">Stacks and Decks</A></LI>
    <LI> <A HREF="bulletins.html">Stack Positioning</A></LI>
    <LI> <A HREF="tabpanel.html">Tabboxes</A></LI>
    <LI> <A HREF="grids.html">Grids</A></LI>
    <LI> <A HREF="cpanels.html">Content Panels</A></LI>
    <LI> <A HREF="splitter.html">Splitters</A></LI>
    <LI> <A HREF="scroll.html">Scroll Bars</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Toolbars and Menus
  <OL>
    <LI> <A HREF="toolbar.html">Toolbars</A></LI>
    <LI> <A HREF="menubar.html">Simple Menu Bars</A></LI>
    <LI> <A HREF="advmenu.html">More Menu Features</A></LI>
    <LI> <A HREF="popups.html">Popup Menus</A></LI>
    <LI> <A HREF="menuscroll.html">Scrolling Menus</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Events and Scripts
  <OL>
    <LI> <A HREF="events.html">Adding Event Handlers</A></LI>
    <LI> <A HREF="advevents.html">More Event Handlers</A></LI>
    <LI> <A HREF="keyshort.html">Keyboard Shortcuts</A></LI>
    <LI> <A HREF="focus.html">Focus and Selection</A></LI>
    <LI> <A HREF="commands.html">Commands</A></LI>
    <LI> <A HREF="commandupdate.html">Updating Commands</A></LI>
    <LI> <A HREF="broadob.html">Broadcasters and Observers</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Document Object Model
  <OL>
    <LI> <A HREF="dom.html">Document Object Model</A></LI>
    <LI> <A HREF="dommodify.html">Modifying a XUL Interface</A></LI>
    <LI> <A HREF="domlists.html">Manipulating Lists</A></LI>
    <LI> <A HREF="boxobject.html">Box Objects</A></LI>
    <LI> <A HREF="xpcom.html">XPCOM Interfaces</A></LI>
    <LI> <A HREF="xpcomex.html">XPCOM Examples</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Trees
  <OL>
    <LI> <A HREF="trees.html">Trees</A></LI>
    <LI> <A HREF="advtrees.html">More Tree Features</A></LI>
    <LI> <A HREF="seltree.html">Tree Selection</A></LI>
    <LI> <A HREF="treeview.html">Custom Tree Views</A></LI>
    <LI> <A HREF="treeviewdet.html">Tree View Details</A></LI>
    <LI> <A HREF="treeboxobject.html">Tree Box Objects</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">RDF and Templates
  <OL>
    <LI> <A HREF="intrordf.html">Introduction to RDF</A></LI>
    <LI> <A HREF="templates.html">Templates</A></LI>
    <LI> <A HREF="treetempl.html">Trees and Templates</A></LI>
    <LI> <A HREF="datasrc.html">RDF Datasources</A></LI>
    <LI> <A HREF="advrules.html">Advanced Rules</A></LI>
    <LI> <A HREF="persist.html">Persistent Data</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Skins and Locales
  <OL>
    <LI> <A HREF="style.html">Adding Style Sheets</A></LI>
    <LI> <A HREF="treestyle.html">Styling a Tree</A></LI>
    <LI> <A HREF="defskin.html">Modifying the Default Skin</A></LI>
    <LI> <SPAN CLASS="currentpage">Creating a Skin</SPAN></LI>
    <LI> <A HREF="locale.html">Localization</A></LI>
    <LI> <A HREF="locprops.html">Property Files</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Bindings
  <OL>
    <LI> <A HREF="introxbl.html">Introduction to XBL</A></LI>
    <LI> <A HREF="xblcontent.html">Anonymous Content</A></LI>
    <LI> <A HREF="xblatin.html">XBL Attribute Inheritance</A></LI>
    <LI> <A HREF="xblprops.html">Adding Properties</A></LI>
    <LI> <A HREF="xblmethods.html">Adding Methods</A></LI>
    <LI> <A HREF="xblevents.html">Adding Event Handlers</A></LI>
    <LI> <A HREF="xblinherit.html">XBL Inheritance</A></LI>
    <LI> <A HREF="xblex.html">XBL Example</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Specialized Window Types
  <OL>
    <LI> <A HREF="featwin.html">Features of a Window</A></LI>
    <LI> <A HREF="dialogs.html">Creating Dialogs</A></LI>
    <LI> <A HREF="filedialog.html">Open and Save Dialogs</A></LI>
    <LI> <A HREF="wizard.html">Creating a Wizard</A></LI>
    <LI> <A HREF="advwiz.html">More Wizards</A></LI>
    <LI> <A HREF="overlay.html">Overlays</A></LI>
    <LI> <A HREF="crosspov.html">Cross Package Overlays</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Installation
  <OL>
    <LI> <A HREF="xpinstall.html">Creating an Installer</A></LI>
    <LI> <A HREF="xpiscript.html">Install Scripts</A></LI>
    <LI> <A HREF="xpiadv.html">Additional Install Features</A></LI>
  </OL>
</OL>

</div>



<div id="content">

<div class="navlinks-pnc">

  <a class="prevlink" title="10.3 - Modifying the Default Skin"
     href="defskin.html">Previous</a>


  <a class="nextlink" title="10.5 - Localization"
     href="locale.html">Next</a>

</div>

<div class="xultu-content">

<h2>Creating a Skin</h2>

<P>
This section describes how to create a simple skin. For simplicity, we'll
only apply it to the find files dialog.
</P>

<H3>A Simple Skin</H3>

<P>
The image below shows the current find files dialog. Let's create a
skin that we can apply to it. Normally, a skin would apply to the
enitre application, but we'll focus on just the find files dialog
to make it easier. For this reason, we'll modify only the file
findfile.css rather than the global.css file. This section assumes
that you are starting with the Classic skin. You may wish to make a
copy of the files used by the find files dialog before editing.
</P>

<P ALIGN="CENTER">
<IMG SRC="images/cskin1.jpg" ALT="" WIDTH=534 HEIGHT=241>
</P>

<P>
You need to create a file 'findfile.css' in a custom skin. Or, you can
temporarily place it in the content directory and refer to it using a
stylesheet directive. You can modify the existing findfile.css directly
to see what it looks like, or you can create a custom skin and link to
that. To create a skin, do the following:

<OL>
  <LI>Create a directory somewhere where you want to place the skin files.</LI>
  <LI>Copy a manifest file (contents.rdf) from the Classic or Modern skin
      into this new directory.</LI>
  <LI>Modify the references in the manifest file to a custom name for your
      skin. For example, change references of 'classic/1.0' to
      'blueswayedshoes/1.0'.</LI>
  <LI>Add a line to the file 'chrome/installed-chrome.txt of the following
      form:<BR>
      &nbsp;&nbsp;&nbsp;&nbsp;skin,install,url,file:///stuff/blueswayedshoes/<BR>
      where the last part points to the directory you created. Make sure to
      add a slash at the end. 
  </LI>
</OL>

<P>
Copy the original findfile.css into the new directory. We'll
use this as a basis for the new skin. We can then refer to it using
the URL 'chrome://findfile/skin/findfile.css'. First, let's decide what
kind of changes we want to make. We'll make some simple color changes,
modify the button styles, and modify the spacing a bit. Let's start
with the menus, toolbars and the overall tab pabel.
</P>

<P>
The following style rules added to findfile.css will cause the changes
shown in the accompanying image.
</P>


<DIV CLASS="sample"><PRE>window > box {
  background-color: #0088CC;  
}

menubar,menupopup,toolbar,tabpanels {
  background-color: lightblue;
  border-top: 1px solid white;
  border-bottom: 1px solid #666666;
  border-left: 1px solid white;
  border-right: 1px solid #666666;
}

caption {
  background-color: lightblue;
}</PRE></DIV>



<P ALIGN="CENTER">
<IMG SRC="images/cskin2.jpg" ALT="" WIDTH=534 HEIGHT=241>
</P>

<P>
The inner box of the window (which actually surrounds all of the window content)
has been changed to have a medium blue color. You can see this blue behind the
tab strip and along the bottom of the window. Four elements, the
<A CLASS="tag" HREF="elemref/ref_menubar.html">menubar</A>, the
<A CLASS="tag" HREF="elemref/ref_menupopup.html">menupopup</A>,
the <A CLASS="tag" HREF="elemref/ref_toolbar.html">toolbar</A>
and the <A CLASS="tag" HREF="elemref/ref_tabpanels.html">tabpanels</A> appear in light blue. The border
around these four elements has been changed to give a heavier 3D appearance.
You can see this if you look closely. The background color of the 
<A CLASS="tag" HREF="elemref/ref_caption.html">caption</A> has also been changed to match the background.
</P>

<P>
The first rule above (for 'window > box') specifies that the child
box of the window has a different color. This probably isn't the best way to
do this. We should really change this to use a style class. Let's do this.
That way, we can modify the XUL without needing to keep the box as the first
child of the window.
</P>


<DIV CLASS="sample"><PRE>.findfilesbox {
  background-color: #0088CC;
}

<B>XUL:</B>

&lt;vbox <SPAN STYLE="color: red;">class="findfilesbox"</SPAN> orient="vertical" flex="100%"&gt;
&lt;toolbox&gt;</PRE></DIV>



<P>
Next, let's modify the tabs. We will make the selected tab bold and change
the rounding on the tabs.
</P>


<DIV CLASS="sample"><PRE>tab:first-child {
  -moz-border-radius: 4px 0px 0px 0px;
}

tab:last-child {
  -moz-border-radius: 0px 4px 0px 0px;
}

tab[selected="true"] {
  color: #000066;
  font-weight: bold;
  text-decoration: underline;
} </PRE></DIV>



<P>
Two rules change the normal tab appearance, the first sets the rounding
on the first tab and the second sets the rounding on the last tab.
Used here is a special Mozilla style rule,
<SPAN CLASS="attrib">-moz-border-radius</SPAN>, that creates rounded
border corners. The upper left border of the first tab and the upper
right border of the second tab are rounded by four pixels and the other
corners have a round corner of zero pixels, which is equivalent to no
rounding. Increase the values here for more rounding and decrease them
for a more rectangular look.
</P>

<P>
<IMG SRC="images/cskin3.jpg" ALIGN="left" ALT="" WIDTH=122 HEIGHT=43>
The last rule only applies to tabs that have their
<SPAN CLASS="attrib">selected</SPAN> attribute set to
<SPAN CLASS="aval">true</SPAN>. It makes the text in the selected
tab appear bold, underlined and dark blue. Note in the image that
this style has applied only to the first tab, because it is the selected
one.
</P>

<P>
It is somewhat difficult to distinguish the buttons on the toolbar from
the commands on the menu. We could add some icons to the buttons to make
them clearer. Mozilla Composer provides some icons for open and save
buttons, which we'll just use here to save time. We can set the image for a
button using the <SPAN CLASS="attrib">list-style-image</SPAN> CSS property.
</P>


<DIV CLASS="sample"><PRE>#opensearch {
  list-style-image: url("chrome://editor/skin/icons/btn1.gif");
  -moz-image-region: rect(48px 16px 64px 0);  
  -moz-box-orient: vertical;
}

#savesearch {
  list-style-image: url("chrome://editor/skin/icons/btn1.gif");
  -moz-image-region: rect(80px 16px 96px 0);  
  -moz-box-orient: vertical;
}</PRE></DIV>



<P>
Mozilla provides a custom style property
<SPAN CLASS="attrib">-moz-image-region</SPAN> which can be used to make an
element use part of an image. You can think of it as a clip region for the
image. You set the property to a position and size within an image and the
button will display only that section of the image. This allows you to use
the same image for multiple buttons and set a different region for each one.
When you have lots of buttons, with states for hover, active and disabled,
this saves space that would normally be occupied by mutliple images. In the
code above, we use the same image for each button, but set a different
image region each one. If you look at this image (btn1.gif), you will
notice that it contains a grid of smaller images, each one 16 by 16 pixels.
</P>

<P>
<IMG SRC="images/cskin4.jpg" ALIGN="left" ALT="" WIDTH=97 HEIGHT=69>
The <SPAN CLASS="attrib">-moz-box-orient</SPAN> property is used to orient
the button vertically, so that the image appears above the label. This
property has the same meaning as the <SPAN CLASS="attrib">orient</SPAN>
attribute. This is convenient because the skin cannot change the XUL. Most
of the box attributes have corresponding CSS properties.
</P>

<P>
Next, we'll make a couple of changes to the buttons along the bottom, again
reusing some icons from Mozilla to save time. If creating your own skin, you
will need to create new icons or copy the icons to new files. If following the
example in this section, just copy the files to your new skin and change the
URLs accordingly.
</P>


<DIV CLASS="sample"><PRE>#find-button {
  list-style-image: url("chrome://global/skin/checkbox/images/cbox-check.jpg");
  font-weight: bold;
} 
  
#cancel-button {
  list-style-image: url("chrome://global/skin/icons/images/close-button.jpg");
} 

button:hover {
  color: #000066;
}</PRE></DIV>



<P>
<IMG SRC="images/cskin5.jpg" ALIGN="right" ALT="" WIDTH=176 HEIGHT=27>
We add some images to the buttons and make the Find button have bold text
to indicate that it is the default button. The last rule applies to buttons
when the mouse is hovering over them. We set the text color to dark blue
in this case. Finally, some minor changes to the spacing around the items,
by setting margins:
</P>


<DIV CLASS="sample"><PRE>
tabbox {
  margin: 4px;
}

toolbarbutton {
  margin-left: 3px;
  margin-right: 3px;
}</PRE></DIV>



<P>
After those changes, the find files dialog now looks like the following:
</P>

<P ALIGN="CENTER">
<IMG SRC="images/cskin-fin.jpg" ALT="" WIDTH=534 HEIGHT=265>
</P>

<P>
As you can see, some simple changes to the style rules has resulted in
quite a different appearance to the find files dialog. We could continue
by changing the menus, the grippies on the toolbar and the input and
checkbox elements.
</P>

<H3>Creating a Global Skin</H3>

<P>
The skin created above is simple and only applies to the find files dialog.
Some of the changes made to the skin could be placed in the global style
sheets (those in the global directory of the skin) to be applied to all
applications. For example, having different images for the check boxes in
the find files dialog as other windows looks a little odd. This change
should really be moved into the global style sheet.
</P>

<P>
Try moving the CSS styles from findfile.css into global.css and then look at
some of the dialogs in Mozilla. (The cookie viewer is a good example.) You
will notice that it has adopted the rules that we have added. Some of the rules
conflict with those already in the global stylesheets. For example, rules are
already defined for buttons and tabs and so on and we defined additional rules
for them. When changing the global skin, you would need to merge the changes
into the existing rules.
</P>

<P>
For the best skinnability, it is best to declare appearance related style
rules in the global directory rather than in individual style files. This
includes colors, fonts and general widget appearances. If you change the color
of something in a local skin file (such as findfile.css), the dialog may look
odd if the user changes their global skin. Don't expect the user to be
using the default one.
</P>

<HR>
<P>
<A HREF="locale.html">(Next)</A>
The next section discusses how to make a XUL application localizable.

</P>
<P>Find files example with this skin:
<A HREF='examples/findfile/findfile-cskin.xul.txt'>Source</A>
<A HREF="examples/findfile/findfile-cskin.xul" ONCLICK="window.open('examples/findfile/findfile-cskin.xul','xulff','chrome,resizable'); return false;">View</A>
<A HREF="examples/findfile/findfile-cskin.css">Stylesheet</A>
</P>
</div>

<div class="navlinks-pnc">

  <a class="prevlink" title="10.3 - Modifying the Default Skin"
     href="defskin.html">Previous</a>


  <a class="nextlink" title="10.5 - Localization"
     href="locale.html">Next</a>

</div>

</div>

<hr class="edgesplit">

<div id="copyblock">
  Copyright (C) 1999 - 2004 XulPlanet.com
</div>

</body>
</html>

