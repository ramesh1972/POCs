if (typeof(RadSpellNamespace)=="undefine\x64")RadSpellNamespace= {} ; RadSpellNamespace.SpellDialogControl= function (t){ this.Id=t[0]; this.Language=t[1]; RadControlsNamespace.DomEventsMixin.Initialize(this ); this.Suggestions=this.FindChildElement(RadSpellNamespace.SpellDialogControl.SuggestionsID); this.Suggestions.focus(); this.DisableElement(this.Suggestions); this.Ignore=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.IgnoreID,"\x49gnoreHan\x64\x6cer"); this.IgnoreAll=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.IgnoreAllID,"\x49gnoreAll\x48\x61ndle\x72"); this.AddCustom=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.AddCustomID,"AddCustomH\x61\x6edler"); this.Change=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.ChangeID,"\x43hangeHand\x6c\x65r"); this.ChangeAll=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.ChangeAllID,"ChangeAl\x6c\x48andle\x72"); this.Undo=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.UndoID,"UndoHa\x6e\x64ler"); this.Cancel=this.GetConfiguredButton(RadSpellNamespace.SpellDialogControl.CancelID,"Cance\x6c\x48andler"); this.EnableButton(this.Cancel); this.Localization=RadSpellNamespace.Localization[this.Language]; this.AttachDomEvent(window,"\x6coad","StartSpel\x6c\x43heck"); this.SpellProcessor=null; this.ContentDisplay=null; var self=this ; this.ModeChangedHandler= function (i3,o9){self.ContentDisplay_ModeChanged(o9); };this.SuggestionsDblClickHandler= function (i3,O9){self.Suggestions_DblClick(O9); } ; };RadSpellNamespace.SpellDialogControl.SpellCheckServiceID="\x5fSpellChec\x6b\x53ervi\x63\x65"; RadSpellNamespace.SpellDialogControl.TextContainerID="_\x54\x65xtConta\x69\x6eer"; RadSpellNamespace.SpellDialogControl.TextEditorID="_\x54\x65xtEdit\x6f\x72"; RadSpellNamespace.SpellDialogControl.SuggestionsID="\x5fSuggestio\x6e\x73"; RadSpellNamespace.SpellDialogControl.IgnoreID="\x5fIgnore"; RadSpellNamespace.SpellDialogControl.IgnoreAllID="\x5fIgnoreAl\x6c"; RadSpellNamespace.SpellDialogControl.AddCustomID="\x5fAddCust\x6f\x6d"; RadSpellNamespace.SpellDialogControl.ChangeID="_\x43\x68ange"; RadSpellNamespace.SpellDialogControl.ChangeAllID="\137\x43\x68angeA\x6c\x6c"; RadSpellNamespace.SpellDialogControl.UndoID="_Undo"; RadSpellNamespace.SpellDialogControl.CancelID="_Cancel"; RadSpellNamespace.SpellDialogControl.prototype= {IgnoreHandler:function (e){if (this.ContentDisplay.IsEditMode){ this.ContentDisplay.SwitchMode(); }else { this.SpellProcessor.Ignore(); this.l9( false); this.MoveForward(); }} ,IgnoreAllHandler:function (e){ this.SpellProcessor.IgnoreAll(); this.l9( true); this.MoveForward(); } ,AddCustomHandler:function (e){var i9=this.SpellProcessor.GetCurrentBadWord().wordString; if (!confirm(this.Localization["\x41ddWor\x64\x31"]+i9+this.Localization["AddWord2"])){return; }var I9=this.GetService(); var dialogArguments=GetDialogArguments( true); if (dialogArguments.DictionaryLanguage){I9.DictionaryLanguage=dialogArguments.DictionaryLanguage; } this.DisableAllButtons(); var self=this ; I9.AddCustomWord(i9, function (i3,I3){self.AddCustomResponseReceived(I3); } ); } ,AddCustomResponseReceived:function (I3){var I7=this.SpellProcessor.GetCurrentBadWord().wordString; this.SpellProcessor.ProcessCustomWordAddition(); this.oa(I7); this.ProcessCurrentStep(); } ,ChangeHandler:function (e){ this.ChangeCurrentWord(this.ContentDisplay.GetReplacementWord()); } ,ChangeAllHandler:function (e){if (this.SpellProcessor.AreAllWordsFixed()){return; } this.SpellProcessor.ChangeAll(this.ContentDisplay.GetReplacementWord()); this.Oa( true); this.MoveForward(); } ,UndoHandler:function (e){var la=this.SpellProcessor.ia(); this.SpellProcessor.Undo(); this.Ia(la); this.ProcessCurrentStep(); } ,CancelHandler:function (e){ this.CloseDialog(this.SpellProcessor.ob() && confirm(this.Localization["\103\x6fnfirm"])); } ,DisableButton:function (button){ this.DisableElement(button); this.SetElementClass(button,"\x62utton\x44\x69sabl\x65\x64"); } ,EnableButton:function (button){ this.EnableElement(button); this.SetElementClass(button,"button"); } ,SetButtonEnabled:function (button,Ob){if (Ob){ this.EnableButton(button); }else { this.DisableButton(button); }} ,DisableElement:function (T){T.disabled= true; } ,EnableElement:function (T){T.disabled= false; } ,SetElementClass:function (T,className){T.className=className; } ,FindChildElement:function (lb){return document.getElementById(this.Id+lb); } ,GetConfiguredButton:function (ib,Ib){var button=this.FindChildElement(ib); if (button){ this.AttachDomEvent(button,"click",Ib); this.DisableButton(button); }return button; } ,GetService:function (){return window[this.Id+RadSpellNamespace.SpellDialogControl.SpellCheckServiceID]; } ,ChangeCurrentWord:function (oc){if (this.SpellProcessor.AreAllWordsFixed()){return; } this.SpellProcessor.Change(oc); this.Oa( false); this.MoveForward(); } ,MoveForward:function (){ this.SpellProcessor.MoveToNextWord(); this.ProcessCurrentStep(); } ,ProcessCurrentStep:function (){if (!this.SpellProcessor.AreAllWordsFixed()){ this.UpdateContent(); }else { this.CloseDialog( true); }} ,Oc:function (lc){ this.DisableAllButtons(); if (this.ContentDisplay){ this.ContentDisplay.DetachEvent("ModeChang\x65d",this.ModeChangedHandler); this.ContentDisplay.DetachEvent("\x53uggesti\x6f\x6esDblC\x6c\x69ck",this.SuggestionsDblClickHandler); this.ContentDisplay.DisposeDomEvents(); this.ContentDisplay=null; } this.ic(); if (this.SpellProcessor){if (this.SpellProcessor.AreAllWordsFixed()){ this.RadSpell.SetSpellChecked( true); }if (lc){ this.Ic(); } this.SpellProcessor=null; } this.RadSpell.RaiseEvent("On\x43\x6cientDia\x6c\x6fgCl\x6fsing", {} ); this.RadSpell=null; this.DisposeDomEvents(); this.od(); } ,CloseDialog:function (lc){ this.Oc(lc); CloseDlg(); } ,StartSpellCheck:function (){var dialogArguments=GetDialogArguments( true); this.RadSpell=dialogArguments.RadSpell; this.TextSource=dialogArguments.TextSource; this.Od(); var I9=this.GetService(); if (dialogArguments.DictionaryLanguage){I9.DictionaryLanguage=dialogArguments.DictionaryLanguage; } this.TextToCheck=this.EscapeNewLines(this.TextSource.GetText()); var self=this ; I9.SpellCheck(this.TextToCheck, function (i3,I3){self.SpellCheckResponseReceived(I3); } ); } ,Od:function (){var self=this ; window.radWindow.OnClientClosing= function (){self.Oc( false); };} ,od:function (){window.radWindow.OnClientClosing=null; } ,SpellCheckResponseReceived:function (I3){ this.SpellProcessor=new RadSpellNamespace.SpellProcessor(this.TextToCheck,I3.BadWords,I3.WordOffsets); if (!this.SpellProcessor.AreAllWordsFixed()){ this.InitContentDisplay(); this.UpdateContent(); }else { this.CloseDialog( true); }} ,EscapeNewLines:function (text){var ld=text.replace(/\x0a/gi,"<t\x65lerikcr /\x3e"); ld=ld.replace(/\x0d/gi,"\x3c\x74elerik\x6c\x66 />"); return ld; } ,oe:function (text){var ld=text.replace(/\x3c\x74\x65\x6c\x65\x72\x69\x6b\x63\x72\s*\x2f\x3e/gi,"\012"); var ld=ld.replace(/\x3c\x74\x65\x6c\x65\x72\x69\x6b\x6c\x66\s*\x2f\x3e/gi,"\015"); return ld; } ,UpdateContent:function (){if (this.ContentDisplay.IsEditMode){ this.ContentDisplay.SwitchMode(); } this.ContentDisplay.ShowText(this.SpellProcessor.GetCurrentErrorContent()); this.Oe(); this.ContentDisplay.FillSuggestions(this.SpellProcessor.GetCurrentSuggestions()); this.UpdateButtonStates(); } ,Oe:function (){var le=document.getElementById(this.SpellProcessor.ie()); if (le){if (window.radWindow==null && le.scrollIntoView!=null){le.scrollIntoView(); }else {if (!this.ContentDisplay.IsEditMode){ this.ContentDisplay.TextContainer.scrollTop=le.offsetTop; le.focus(); }}}} ,DisableAllButtons:function (){ this.DisableButton(this.Ignore); this.DisableButton(this.IgnoreAll); this.DisableButton(this.Change); this.DisableButton(this.ChangeAll); this.DisableButton(this.Undo); this.DisableButton(this.Cancel); if (this.AddCustom){ this.DisableButton(this.AddCustom); }} ,IsElementEnabled:function (T){return !T.disabled; } ,InitContentDisplay:function (){ this.ContentDisplay=new RadSpellNamespace.ContentDisplay(this,this.FindChildElement(RadSpellNamespace.SpellDialogControl.TextContainerID),this.FindChildElement(RadSpellNamespace.SpellDialogControl.TextEditorID),this.Suggestions); this.ContentDisplay.AttachEvent("Mo\x64eChanged",this.ModeChangedHandler); this.ContentDisplay.AttachEvent("Su\x67\x67estion\x73\x44blC\x6c\x69c\x6b",this.SuggestionsDblClickHandler); this.ContentDisplay.w(); } ,UpdateButtonStates:function (){var Ie=this.SpellProcessor.GetCurrentSuggestions().length>0; this.EnableButton(this.Ignore); this.SetButtonEnabled(this.IgnoreAll,!this.ContentDisplay.IsEditMode); this.SetButtonEnabled(this.Undo,this.SpellProcessor.GetCurrentUndoAction()!=null); this.SetButtonEnabled(this.Change,this.ContentDisplay.IsEditMode || Ie); this.SetButtonEnabled(this.ChangeAll,!this.ContentDisplay.IsEditMode && Ie); if (this.AddCustom!=null){ this.SetButtonEnabled(this.AddCustom,!this.ContentDisplay.IsEditMode); } this.Ignore.innerHTML=this.ContentDisplay.IsEditMode?this.Localization["\x55ndoE\x64\x69t"]: this.Localization["\x49gnore"]; } ,ContentDisplay_ModeChanged:function (o9){var of=""; if (o9.IsEditMode){of=this.SpellProcessor.GetCurrentBadWord().wordString; }else {of=this.SpellProcessor.GetCurrentErrorContent(); } this.UpdateButtonStates(); this.ContentDisplay.ShowText(of); this.Oe(); } ,Suggestions_DblClick:function (O9){if (this.SpellProcessor.GetCurrentSuggestions().length>0){ this.ChangeCurrentWord(O9.SelectedValue); }else {alert(this.Localization["\x4eosuggesti\x6f\x6es"]); }} ,Ic:function (){ this.TextSource.SetText(this.oe(this.SpellProcessor.TextToCheck)); } ,ic:function (){if (this.SpellProcessor && this.SpellProcessor.AreAllWordsFixed()){var I3= {SuppressCompleteMessage: false };this.RadSpell.RaiseEvent("OnClientC\x68\x65ck\x46\x69nish\x65d",I3); if (!I3.SuppressCompleteMessage){alert(this.Localization["S\x70\x65llChec\x6b\x43omp\x6c\x65te"]); }}else { this.RadSpell.RaiseEvent("\117\x6e\x43lient\x43\150ec\x6b\x43an\x63\x65lle\x64", {} ); }} ,Oa:function (Of){var If=this.SpellProcessor.GetCurrentBadWord(); var I3= {og:If.Og,oc:If.wordString,lg: this.SpellProcessor.ia(),Of:Of } ; this.RadSpell.RaiseEvent("OnClie\x6e\x74Wor\x64\x43orre\x63ted",I3); } ,l9:function (Ig){var oh=this.SpellProcessor.GetCurrentBadWord(); var I3= {Oh:oh.Og,lg: this.SpellProcessor.ia(),Ig:Ig } ; this.RadSpell.RaiseEvent("OnClien\x74\x57ordI\x67\x6eore\x64",I3); } ,Ia:function (lg){var lh=this.SpellProcessor.GetCurrentBadWord(); var I3= {og:lh.Og,lg:lg } ; this.RadSpell.RaiseEvent("\x4fnClientAct\x69\x6fnUnd\x6f\x6ee",I3); } ,oa:function (I7){var I3= {I7:I7 } ; this.RadSpell.RaiseEvent("\x4f\x6eClien\x74\x43usto\x6d\x57or\x64\x41dde\x64",I3); }} ;
