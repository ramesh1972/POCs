<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<link rel="stylesheet" title="Default Style" href="styles/default/main.css" type="text/css">
<link rel="stylesheet" href="styles/default/xultu.css" type="text/css">


<link rel="stylesheet" href="styles/default/xultu-print.css" type="text/css" media="print">


<link rel="home"   href="http://www.xulplanet.com/"            title="http://www.XulPlanet.com/">
<link rel="search" href="http://www.xulplanet.com/cgi-bin/search/search.cgi" title="Search XulPlanet">
<link rel="author" href="http://www.xulplanet.com/ndeakin" title="Neil Deakin">
 <link rel="up" href="http://www.xulplanet.com/tutorials/" title="Up"> 
 <link rel="first" href="intro.html" title="First"> 
 <link rel="last" href="end.html" title="Last"> 

 <link rel="prev" href="dom.html"> 
 <link rel="next" href="domlists.html"> 

<meta name="Description" content="Step by step tutorial of the XML User Interface Language">

<title>XulPlanet.com - Modifying a XUL Interface</title>

</head>
<body>

<div id="header">
  <a href="http://www.xulplanet.com/">
    <img id="logo" src="images/xulplanet.png" width="215" height="65" alt="XUL Planet">
  </a>

<div id="locationlinks">
  <a href="http://www.xulplanet.com/">Home</a> &gt;

  <a href="http://www.xulplanet.com/tutorials/">Tutorials</a> :


  <a href="index.html">XUL Tutorial</a> :



 7.2 - Modifying a XUL Interface 
</div>



</div>



<hr class="edgesplit">

<div id="sidebar">

<div id="search">
  <form action="/cgi-bin/search/search.cgi" method="get">
    Search:<br>
    <input id="search-box" name="Terms" type="text">
    <input type="submit" value="Go">
  </form>
</div>

<hr>

<ul class="sidebar-section-links">
  <li><a href="http://www.xulplanet.com/tutorials/xultu/allofit.zip">Single Document Version</a></li>
  <li><a href="http://www.xulplanet.com/tutorials/xultu/xultu.zip">Download the XUL Tutorial</a><br></li>
  <li><a href="http://www.xulplanet.com/references/elemref/">Element Reference</a></li>
  <li><a href="http://www.xulplanet.com/references/elemref/quickref.html">Quick Reference</a><br></li>
  <li><a href="keyref.html">Key Code Reference</a></li>
  <li><a href="templateex.html">Template Syntax Examples</a></li>
</ul>

<hr>



<OL id="sidebar-docs-index">
  <LI class="sidebar-section-title">Introduction
  <OL>
    <LI> <A HREF="intro.html">Introduction</A></LI>
    <LI> <A HREF="xulfile.html">XUL Structure</A></LI>
    <LI> <A HREF="chromeurl.html">The Chrome URL</A></LI>
    <LI> <A HREF="packaging.html">Contents.rdf Files</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Simple Elements
  <OL>
    <LI> <A HREF="window.html">Creating a Window</A></LI>
    <LI> <A HREF="buttons.html">Adding Buttons</A></LI>
    <LI> <A HREF="textimage.html">Adding Labels and Images</A></LI>
    <LI> <A HREF="inputs.html">Input Controls</A></LI>
    <LI> <A HREF="lists.html">List Controls</A></LI>
    <LI> <A HREF="progress.html">Progress Meters</A></LI>
    <LI> <A HREF="htmlelem.html">Adding HTML Elements</A></LI>
    <LI> <A HREF="springs.html">Using Spacers</A></LI>
    <LI> <A HREF="advbtns.html">More Button Features</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">The Box Model
  <OL>
    <LI> <A HREF="boxes.html">The Box Model</A></LI>
    <LI> <A HREF="boxstyle.html">Element Positioning</A></LI>
    <LI> <A HREF="boxdet.html">Box Model Details</A></LI>
    <LI> <A HREF="titledbox.html">Groupboxes</A></LI>
    <LI> <A HREF="boxfinal.html">Adding More Elements</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">More Layout Elements
  <OL>
    <LI> <A HREF="stacks.html">Stacks and Decks</A></LI>
    <LI> <A HREF="bulletins.html">Stack Positioning</A></LI>
    <LI> <A HREF="tabpanel.html">Tabboxes</A></LI>
    <LI> <A HREF="grids.html">Grids</A></LI>
    <LI> <A HREF="cpanels.html">Content Panels</A></LI>
    <LI> <A HREF="splitter.html">Splitters</A></LI>
    <LI> <A HREF="scroll.html">Scroll Bars</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Toolbars and Menus
  <OL>
    <LI> <A HREF="toolbar.html">Toolbars</A></LI>
    <LI> <A HREF="menubar.html">Simple Menu Bars</A></LI>
    <LI> <A HREF="advmenu.html">More Menu Features</A></LI>
    <LI> <A HREF="popups.html">Popup Menus</A></LI>
    <LI> <A HREF="menuscroll.html">Scrolling Menus</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Events and Scripts
  <OL>
    <LI> <A HREF="events.html">Adding Event Handlers</A></LI>
    <LI> <A HREF="advevents.html">More Event Handlers</A></LI>
    <LI> <A HREF="keyshort.html">Keyboard Shortcuts</A></LI>
    <LI> <A HREF="focus.html">Focus and Selection</A></LI>
    <LI> <A HREF="commands.html">Commands</A></LI>
    <LI> <A HREF="commandupdate.html">Updating Commands</A></LI>
    <LI> <A HREF="broadob.html">Broadcasters and Observers</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Document Object Model
  <OL>
    <LI> <A HREF="dom.html">Document Object Model</A></LI>
    <LI> <SPAN CLASS="currentpage">Modifying a XUL Interface</SPAN></LI>
    <LI> <A HREF="domlists.html">Manipulating Lists</A></LI>
    <LI> <A HREF="boxobject.html">Box Objects</A></LI>
    <LI> <A HREF="xpcom.html">XPCOM Interfaces</A></LI>
    <LI> <A HREF="xpcomex.html">XPCOM Examples</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Trees
  <OL>
    <LI> <A HREF="trees.html">Trees</A></LI>
    <LI> <A HREF="advtrees.html">More Tree Features</A></LI>
    <LI> <A HREF="seltree.html">Tree Selection</A></LI>
    <LI> <A HREF="treeview.html">Custom Tree Views</A></LI>
    <LI> <A HREF="treeviewdet.html">Tree View Details</A></LI>
    <LI> <A HREF="treeboxobject.html">Tree Box Objects</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">RDF and Templates
  <OL>
    <LI> <A HREF="intrordf.html">Introduction to RDF</A></LI>
    <LI> <A HREF="templates.html">Templates</A></LI>
    <LI> <A HREF="treetempl.html">Trees and Templates</A></LI>
    <LI> <A HREF="datasrc.html">RDF Datasources</A></LI>
    <LI> <A HREF="advrules.html">Advanced Rules</A></LI>
    <LI> <A HREF="persist.html">Persistent Data</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Skins and Locales
  <OL>
    <LI> <A HREF="style.html">Adding Style Sheets</A></LI>
    <LI> <A HREF="treestyle.html">Styling a Tree</A></LI>
    <LI> <A HREF="defskin.html">Modifying the Default Skin</A></LI>
    <LI> <A HREF="cskin.html">Creating a Skin</A></LI>
    <LI> <A HREF="locale.html">Localization</A></LI>
    <LI> <A HREF="locprops.html">Property Files</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Bindings
  <OL>
    <LI> <A HREF="introxbl.html">Introduction to XBL</A></LI>
    <LI> <A HREF="xblcontent.html">Anonymous Content</A></LI>
    <LI> <A HREF="xblatin.html">XBL Attribute Inheritance</A></LI>
    <LI> <A HREF="xblprops.html">Adding Properties</A></LI>
    <LI> <A HREF="xblmethods.html">Adding Methods</A></LI>
    <LI> <A HREF="xblevents.html">Adding Event Handlers</A></LI>
    <LI> <A HREF="xblinherit.html">XBL Inheritance</A></LI>
    <LI> <A HREF="xblex.html">XBL Example</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Specialized Window Types
  <OL>
    <LI> <A HREF="featwin.html">Features of a Window</A></LI>
    <LI> <A HREF="dialogs.html">Creating Dialogs</A></LI>
    <LI> <A HREF="filedialog.html">Open and Save Dialogs</A></LI>
    <LI> <A HREF="wizard.html">Creating a Wizard</A></LI>
    <LI> <A HREF="advwiz.html">More Wizards</A></LI>
    <LI> <A HREF="overlay.html">Overlays</A></LI>
    <LI> <A HREF="crosspov.html">Cross Package Overlays</A></LI>
  </OL>
  </LI>
  <LI class="sidebar-section-title">Installation
  <OL>
    <LI> <A HREF="xpinstall.html">Creating an Installer</A></LI>
    <LI> <A HREF="xpiscript.html">Install Scripts</A></LI>
    <LI> <A HREF="xpiadv.html">Additional Install Features</A></LI>
  </OL>
</OL>

</div>



<div id="content">

<div class="navlinks-pnc">

  <a class="prevlink" title="7.1 - Document Object Model"
     href="dom.html">Previous</a>


  <a class="nextlink" title="7.3 - Manipulating Lists"
     href="domlists.html">Next</a>

</div>

<div class="xultu-content">

<h2>Modifying a XUL Interface</h2>

<P>
The DOM provides various functions to modify the document.
</P>

<H3>Creating New Elements</H3>

<P>
You can create new elements using the createElement function of the document. It
takes one argument, the tag name of the element to create. You can then set
attributes of the element using the setAttribute function and append it to the
XUL document using the appendChild function. For example, the following will add
a button to a XUL window:
</P>


Example 7.2.1:
<A HREF='examples/ex_dommodify_1.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_1.xul" ONCLICK="window.open('examples/ex_dommodify_1.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;script&gt;
function addButton()
{
  var aBox = document.getElementById("aBox");

  var button = document.createElement("button");
  button.setAttribute("label","A Button");
  aBox.appendChild(button);
}
&lt;/script&gt;

&lt;box id="aBox" width="200"&gt;
  &lt;button label="Add" oncommand="addButton();"/&gt;
&lt;/box&gt;</PRE></DIV>



<P>
This script first gets a reference to the box, which is the container to add a
new button to. The createElement function creates a new button. We assign a label
'A Button' to the button using the setAttribute function. The appendChild
function of the box is called to add the button to it.
</P>

<P>
The createElement function will create the default type of element for the document.
For XUL documents, this generally means that a XUL element will be created. For an
HTML document, an HTML element will be created, so it will have the features and
functions of an HTML element instead. The createElementNS function may be used to
create elements in a different namespace.
</P>

<P>
The appendChild function is used to add an element as a child of another element.
Three related functions are the insertBefore, replaceChild and removeChild
functions. The syntax of these functions is as follows:
</P>


<DIV CLASS="sample"><PRE>
parent.appendChild(child);
parent.insertBefore(child, referenceChild);
parent.replaceChild(newChild, oldChild);
parent.removeChild(child);</PRE></DIV>



<P>
It should be fairly straightforward from the function names what these functions
do. The insertBefore function inserts a new child node before an existing one. This
is used to insert into the middle of a set of children instead of at the end like
appendChild does. The replaceChild function removes an existing child and adds a
new one in its place at the same position. Finally the removeChild function removes
a node. Note that for all these functions, the reference child or child to remove
must already exist or an error occurs.
</P>

<P>
It is often the case that you want to remove an existing element and add it
somewhere else. If so, you can just add the element without removing it first.
Since a node may only be in one place at a time, the insertion call will always
remove the node from its existing location first. This is a convenient way to move
nodes around in the document.
</P>

<P>
To copy nodes however, you may call the cloneNode function. This function makes a
copy of an existing node so that you can add it somewhere else. The original node
will stay where it is. It takes one boolean argument which indicates whether to
copy all of the node's children or not. If false, only the node is copied, such
that the copy won't have any children. If true, all of the children are copied as
well. This is done recursively, so for large tree structures make sure that this
is desired before passing true to the cloneNode function. Here is an example:
</P>


Example 7.2.2:
<A HREF='examples/ex_dommodify_2.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_2.xul" ONCLICK="window.open('examples/ex_dommodify_2.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;hbox height="400"&gt;
  &lt;button label="Copy"
          oncommand="this.parentNode.appendChild(this.nextSibling.cloneNode(true));"/&gt;
&lt;/hbox&gt;

&lt;vbox&gt;
  &lt;button label="First"/&gt;
  &lt;button label="Second"/&gt;
&lt;/vbox&gt;</PRE></DIV>



<P>
When the Copy button is pressed, we retrieve the next sibling of the button, which will
be the <A CLASS="tag" HREF="elemref/ref_vbox.html">vbox</A> element. A copy of this element is made using the
cloneNode function and the copy is appended.
</P>

<P>
Note that some elements, such as <A CLASS="tag" HREF="elemref/ref_listbox.html">listbox</A> and
<A CLASS="tag" HREF="elemref/ref_menulist.html">menulist</A> provide some additional specialized modification
functions which you should use instead when you can. These are described in the
next section.
</P>

<H3>Manipulating Basic Elements</H3>

<P>
The main XUL elements such as buttons, checkboxes and radio buttons may be
manipulated using a number of script properties. The properties available are listed
in the <A HREF="http://www.xulplanet.com/references/elemref/">element reference</A>
as those available are different for each element. Common properties that you will
manipulate include the label, value, checked and disabled properties. They set or
clear the corresponding attribute as necessary. Here is a simple example which
changes the label on a button:
</P>


Example 7.2.3:
<A HREF='examples/ex_dommodify_3.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_3.xul" ONCLICK="window.open('examples/ex_dommodify_3.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;button label="Hello" oncommand="this.label = 'Goodbye';"/&gt;</PRE></DIV>



<P>
When the button is pressed, the label is changed. This technique will work for a
variety of different elements that have labels. For a textbox, you can do something
similar for the value property.
</P>


Example 7.2.4:
<A HREF='examples/ex_dommodify_4.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_4.xul" ONCLICK="window.open('examples/ex_dommodify_4.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;button label="Add" oncommand="this.nextSibling.value += '1';"/&gt;
&lt;textbox/&gt;</PRE></DIV>



<P>
This example adds a '1' to the textbox each time the button is pressed. The
nextSibling property navigates from the button (this) to the next element, the
textbox. The += operator is used to add to the current value so a 1 will be
added onto the end of the existing text. Note that you can still enter text into
the textbox. You can also retrieve the current label or value using these
properties, as in the following example:
</P>


Example 7.2.5:
<A HREF='examples/ex_dommodify_5.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_5.xul" ONCLICK="window.open('examples/ex_dommodify_5.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;button label="Hello" oncommand="alert(this.label);"/&gt;</PRE></DIV>



<P>
Checkboxes have a checked property which may be used to check or uncheck the
checkbox. It should be easy to determine how this is used. In this next example,
we reverse the state of the checked property whenever the button is pressed.
Note that while the label and value properties are strings, the checked property
is a boolean property which will be set either true or false.
</P>


Example 7.2.6:
<A HREF='examples/ex_dommodify_6.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_6.xul" ONCLICK="window.open('examples/ex_dommodify_6.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;button label="Change" oncommand="this.nextSibling.checked = !this.nextSibling.checked;"/&gt;
&lt;checkbox label="Check for messages"/&gt;</PRE></DIV>



<P>
Radio buttons may be selected as well using properties, however since only one
in a group may be selected at a time, the others must all be unchecked when one is
checked. You don't have to do this manually of course. The radiogroup's
selectedIndex property may be used to do this. The selectedIndex property may be
used to retrieve the index of the selected radio button in the group and well as
change it.
</P>

<P>
It is common to disable particular fields that don't apply in a given situation.
For example, in a preferences dialog, one might have the choice of several
possibilities, but one choice allows additional customization. Here is an example
of how to create this type of interface.
</P>


Example 7.2.7:
<A HREF='examples/ex_dommodify_7.xul.txt'>Source</A>
<A HREF="examples/ex_dommodify_7.xul" ONCLICK="window.open('examples/ex_dommodify_7.xul','xulex','chrome,resizable'); return false;">View</A>
<DIV CLASS="example"><PRE>
&lt;script&gt;
function updateState()
{
  var name = document.getElementById("name");
  var sindex = document.getElementById("group").selectedIndex;
  if (sindex == 0) name.disabled = true;
  else name.disabled = false;
}
&lt;/script&gt;

&lt;radiogroup id="group" onselect="updateState();"&gt;
  &lt;radio label="Random name" selected="true"/&gt;
  &lt;hbox&gt;
    &lt;radio label="Specify a name:"/&gt;
    &lt;textbox id="name" value="Jim" disabled="true"/&gt;
  &lt;/hbox&gt;
&lt;/radiogroup&gt;</PRE></DIV>



<P>
In this example a function updateState is called whenever a select event is fired
on the radio group. This will happen whenever a radio button is selected. This
function will retrieve the currently selected <A CLASS="tag" HREF="elemref/ref_radio.html">radio</A>
element using the selectedIndex property. Note that even though one of the radio
buttons is inside an <A CLASS="tag" HREF="elemref/ref_hbox.html">hbox</A>, it is still part of the radio
group. If the first radio button is selected (index of 0), the textbox is
enabled by setting its disabled property to true. If the second radio button is
selected, the textbox is enabled.
</P>

<HR>
<P>
<A HREF="domlists.html">(Next)</A>
The next section will provide more details about manipulating radio groups as well
as manipulating lists.

</P>
<P>

Examples:
  <A HREF='examples/ex_dommodify_1.xul.txt'>7.2.1</A>
  <A HREF='examples/ex_dommodify_2.xul.txt'>7.2.2</A>
  <A HREF='examples/ex_dommodify_3.xul.txt'>7.2.3</A>
  <A HREF='examples/ex_dommodify_4.xul.txt'>7.2.4</A>
  <A HREF='examples/ex_dommodify_5.xul.txt'>7.2.5</A>
  <A HREF='examples/ex_dommodify_6.xul.txt'>7.2.6</A>
  <A HREF='examples/ex_dommodify_7.xul.txt'>7.2.7</A>
</P>
</div>

<div class="navlinks-pnc">

  <a class="prevlink" title="7.1 - Document Object Model"
     href="dom.html">Previous</a>


  <a class="nextlink" title="7.3 - Manipulating Lists"
     href="domlists.html">Next</a>

</div>

</div>

<hr class="edgesplit">

<div id="copyblock">
  Copyright (C) 1999 - 2004 XulPlanet.com
</div>

</body>
</html>

